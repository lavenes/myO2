{"version":3,"sources":["Global/Variables.jsx","components/HeaderBar/controller.jsx","components/HeaderBar/index.jsx","views/Signup/controller.jsx","views/Signup/index.jsx","views/Login/controller.jsx","views/Login/index.jsx","components/CollapList/controller.jsx","components/CollapList/index.jsx","views/Management/controller.jsx","components/Card/controller.jsx","components/Card/index.jsx","components/LoadingScreen/index.jsx","views/Management/index.jsx","views/AddNew/controller.jsx","views/AddNew/index.jsx","views/Home/controller.jsx","views/Home/index.jsx","views/Information/controller.jsx","views/Information/index.jsx","views/Welcome/controller.jsx","views/Welcome/index.jsx","views/Request/controller.jsx","views/Request/index.jsx","views/Info/index.jsx","App.js","index.js"],"names":["Firebase","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","Database","analytics","database","messaging","findWithAttr","array","attr","value","i","length","cities","title","id","districts","showNotification","option","a","registerServiceWorker","navigator","serviceWorker","register","swRegistration","requestNotificationPermission","window","Notification","requestPermission","body","options","showLocalNotification","snapToArray","snap","keys","counts","forEach","item","itemVal","val","push","randomId","result","characters","charactersLength","charAt","Math","floor","random","Controller","props","useState","location","hash","replace","setLocation","ChildHeaderBar","className","href","target","HeaderBar","halfAuthed","localStorage","getItem","fullAuthed","to","onClick","TopHeaderBar","goBack","email","setEmail","phone","setPhone","password","setPassword","loading","setLoading","city","setCity","district","setDistrict","success","setSuccess","handleSignup","auth","createUserWithEmailAndPassword","then","e","data","uid","user","pushToken","ref","set","setItem","catch","alert","handleRegisterNotificationPerm","getToken","token","err","Signup","TextField","onChange","label","variant","type","Autocomplete","getOptionLabel","renderInput","params","onSelect","Button","color","style","marginTop","disabled","handleLogin","signInWithEmailAndPassword","update","once","opened","visible","setVisible","handleChangeVisible","CollapList","stopPropagation","onAddNew","children","o2","setO2","redirectAddNew","setRedirectAddNew","useEffect","fetchData","res","callback","Promise","all","map","on","snapshot","Card","edit","background","image","name","address","ward","status","LoadingScreen","size","Management","fontSize","width","display","justifyContent","setImage","imageURL","setImageURL","setName","setWard","setAddress","information","setInformation","isEdit","editData","setEditData","setStatus","match","handleUploadImage","file","files","URL","createObjectURL","storageRef","storage","fileRef","child","put","getDownloadURL","handleSubmit","remove","statusOptions","AddNew","imageRef","useRef","htmlFor","required","defaultValue","Home","setData","indexOf","handleSendRequest","requestData","accepted","requested","split","pushData","time_to_live","console","log","Axios","post","headers","join","Information","Fab","marginRight","startIcon","endIcon","redirect","setRedirect","reload","Welcome","Request","Info","HalfPrivateRoute","Component","component","rest","authed","render","pathname","state","from","PrivateRoute","Main","exact","path","Login","App","onMessage","ReactDOM","document","getElementById"],"mappings":"2hBAYaA,EAAWC,IAASC,cAVH,CAC1BC,OAAQ,0CACRC,WAAY,6BACZC,UAAW,aACXC,cAAe,yBACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAKNC,GADoBT,IAASU,YAClBX,EAASY,YACpBC,EAAYZ,IAASY,YAE3B,SAASC,EAAaC,EAAOC,EAAMC,GACtC,GAAGF,EACC,IAAK,IAAIG,EAAI,EAAGA,EAAIH,EAAMI,OAAQD,GAAK,EACnC,GAAIH,EAAMG,GAAGF,KAAUC,EACnB,OAAOC,EAInB,OAAQ,EAGL,IAAME,EAAS,CAClB,CACIC,MAAO,0BACPC,GAAI,IAICC,EAAY,CACrB,CACIF,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,eACPC,GAAI,GAER,CACID,MAAO,eACPC,GAAI,IAER,CACID,MAAO,eACPC,GAAI,IAER,CACID,MAAO,oBACPC,GAAI,IAER,CACID,MAAO,sBACPC,GAAI,IAER,CACID,MAAO,oBACPC,GAAI,IAER,CACID,MAAO,uBACPC,GAAI,IAER,CACID,MAAO,oBACPC,GAAI,IAER,CACID,MAAO,mBACPC,GAAI,IAER,CACID,MAAO,4BACPC,GAAI,IAER,CACID,MAAO,8BACPC,GAAI,IAER,CACID,MAAO,+BACPC,GAAI,IAER,CACID,MAAO,yBACPC,GAAI,IAER,CACID,MAAO,2BACPC,GAAI,IAER,CACID,MAAO,0BACPC,GAAI,IAER,CACID,MAAO,oBACPC,GAAI,KAOCE,EAAgB,uCAAG,WAAOH,EAAOI,GAAd,mBAAAC,EAAA,6DACtBC,EADsB,+BAAAD,EAAA,MACE,4BAAAA,EAAA,sEACGE,UAAUC,cAAcC,SAAS,sBADpC,cACpBC,EADoB,yBAEnBA,GAFmB,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E,EAAU,KAAO,SAE5D,qBAAKjE,UAAS,oBAAeiE,EAAU,OAAS,IAAhD,SACKxE,EAAM8E,eCnBhB,SAAS/E,EAAWC,GACvB,MAAoBC,mBAAS,MAA7B,mBAAO8E,EAAP,KAAWC,EAAX,KACA,EAA4C/E,mBAAS,MAArD,mBAAOgF,EAAP,KAAuBC,EAAvB,KAEMpH,EAAY,CACd,CACIF,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,eACPC,GAAI,GAER,CACID,MAAO,eACPC,GAAI,IAER,CACID,MAAO,eACPC,GAAI,IAER,CACID,MAAO,oBACPC,GAAI,IAER,CACID,MAAO,sBACPC,GAAI,IAER,CACID,MAAO,oBACPC,GAAI,IAER,CACID,MAAO,uBACPC,GAAI,IAER,CACID,MAAO,oBACPC,GAAI,IAER,CACID,MAAO,mBACPC,GAAI,IAER,CACID,MAAO,4BACPC,GAAI,IAER,CACID,MAAO,8BACPC,GAAI,IAER,CACID,MAAO,+BACPC,GAAI,IAER,CACID,MAAO,yBACPC,GAAI,IAER,CACID,MAAO,2BACPC,GAAI,IAER,CACID,MAAO,0BACPC,GAAI,IAER,CACID,MAAO,oBACPC,GAAI,KAKZsH,qBAAU,WACNC,GAAU,SAAAC,GAAG,OAAIL,EAAMK,QACxB,IAGH,IAAMD,EAAS,uCAAG,WAAOE,GAAP,SAAArH,EAAA,sDACK,GAGnBsH,QAAQC,IAAI1H,EAAU2H,KAAI,SAACnD,EAAM7E,GAC7B,OAAO,IAAI8H,SAAQ,SAACF,GAChBpI,EAASyF,IAAT,aAAmBjF,IAAKiI,GAAG,SAAS,SAAAC,GAChCN,EAAIvG,EAAY6G,cAGxBvD,MAAK,SAACiD,GACN,OAAOC,EAASD,MAXN,2CAAH,sDAef,MAAO,CACHvH,YACAiH,KACAG,oBACAD,kB,mBCvID,SAASlF,EAAWC,GAgHvB,MAAO,CACHrC,OA/GW,CACX,CACIC,MAAO,0BACPC,GAAI,IA6GRC,UAzGc,CACd,CACIF,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,eACPC,GAAI,GAER,CACID,MAAO,eACPC,GAAI,IAER,CACID,MAAO,eACPC,GAAI,IAER,CACID,MAAO,oBACPC,GAAI,IAER,CACID,MAAO,sBACPC,GAAI,IAER,CACID,MAAO,oBACPC,GAAI,IAER,CACID,MAAO,uBACPC,GAAI,IAER,CACID,MAAO,oBACPC,GAAI,IAER,CACID,MAAO,mBACPC,GAAI,IAER,CACID,MAAO,4BACPC,GAAI,IAER,CACID,MAAO,8BACPC,GAAI,IAER,CACID,MAAO,+BACPC,GAAI,IAER,CACID,MAAO,yBACPC,GAAI,IAER,CACID,MAAO,2BACPC,GAAI,IAER,CACID,MAAO,0BACPC,GAAI,IAER,CACID,MAAO,oBACPC,GAAI,MCtGT,IAAM+H,EAAO,SAAC5F,GACjB,MAA4B,IAAID,EAAWC,GAApClC,EAAP,EAAOA,UAAWH,EAAlB,EAAkBA,OAEd2E,EAAOtC,EAAMsC,KAEjB,OACI,eAAC,IAAD,CAAMvB,GAAIf,EAAM6F,KAAN,eAAqBvD,EAAKT,SAA1B,YAAsCS,EAAKzE,IAA3C,cAAyDyE,EAAKT,SAA9D,YAA0ES,EAAKzE,IAAM0C,UAAU,OAAzG,UACKP,EAAM6F,KACP,sBAAKtF,UAAU,aAAf,UACI,cAAC,IAAD,CAAUA,UAAU,SACpB,0DACK,KACT,qBAAKA,UAAU,QAAQyD,MAAO,CAAC8B,WAAW,OAAD,OAASxD,EAAKyD,MAAd,wCACzC,sBAA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/F,KAAMyG,KAAK,SAAS,SAAAqB,GACrFkD,EAAQlD,EAAStG,YAEtB,IA0DH,MAAO,CACHiD,OACA3E,OA/KW,CACX,CACIC,MAAO,0BACPC,GAAI,IA6KRC,UAzKc,CACd,CACIF,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,cACPC,GAAI,GAER,CACID,MAAO,eACPC,GAAI,GAER,CACID,MAAO,eACPC,GAAI,IAER,CACID,MAAO,eACPC,GAAI,IAER,CACID,MAAO,oBACPC,GAAI,IAER,CACID,MAAO,sBACPC,GAAI,IAER,CACID,MAAO,oBACPC,GAAI,IAER,CACID,MAAO,uBACPC,GAAI,IAER,CACID,MAAO,oBACPC,GAAI,IAER,CACID,MAAO,mBACPC,GAAI,IAER,CACID,MAAO,4BACPC,GAAI,IAER,CACID,MAAO,8BACPC,GAAI,IAER,CACID,MAAO,+BACPC,GAAI,IAER,CACID,MAAO,yBACPC,GAAI,IAER,CACID,MAAO,2BACPC,GAAI,IAER,CACID,MAAO,0BACPC,GAAI,IAER,CACID,MAAO,oBACPC,GAAI,KAuERkL,kBA3DsB,WACtB,GAAI/C,GAASE,GAASD,EAEjB,CACD,IAAI+C,EAAc,CACdhD,KAAMA,EACNE,KAAMA,EACND,QAASA,EACTgB,YAAaA,EACbpF,SAAUjB,aAAaC,QAAQ,YAC/Bc,KAAM,EACNN,MAAOT,aAAaC,QAAQ,SAC5BhD,GAAI0B,EAAS,IACbgD,IAAKD,EAAKC,IACV0G,UAAU,GAGdvH,GAAW,GAGX,IAAIwH,EAAYtI,aAAaC,QAAQ,aAAeD,aAAaC,QAAQ,aAAasI,MAAM,KAAO,GAEnGlM,EAASyF,IAAT,kBAAwBJ,EAAKC,IAA7B,YAAoCyG,EAAYnL,KAAM8E,IAAIqG,GAAa5G,MAAK,WAC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","file":"static/js/main.766a0ae4.chunk.js","sourcesContent":["import firebase from 'firebase';\r\n\r\nexport const firebaseConfig = {\r\n    apiKey: \"AIzaSyAGLoe812akN97h2LVKZoUc3eHdeFGz9SI\",\r\n    authDomain: \"myo2-56c74.firebaseapp.com\",\r\n    projectId: \"myo2-56c74\",\r\n    storageBucket: \"myo2-56c74.appspot.com\",\r\n    messagingSenderId: \"930773898003\",\r\n    appId: \"1:930773898003:web:deb1bc3bf445f4d77e40e6\",\r\n    measurementId: \"G-KY9TKCQG6K\"\r\n};\r\n\r\nexport const Firebase = firebase.initializeApp(firebaseConfig);\r\nexport const FirebaseAnalytics = firebase.analytics();\r\nexport const Database = Firebase.database();\r\nexport const messaging = firebase.messaging();\r\n\r\nexport function findWithAttr(array, attr, value) {\r\n    if(array) {\r\n        for (var i = 0; i < array.length; i += 1) {\r\n            if (array[i][attr] === value) {\r\n                return i;\r\n            }\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n    \r\nexport const cities = [\r\n    {\r\n        title: 'TP. Hồ Chí Minh',\r\n        id: 0\r\n    }\r\n]\r\n\r\nexport const districts = [\r\n    {\r\n        title: 'Quận 1',\r\n        id: 0\r\n    },\r\n    {\r\n        title: 'Quận 2',\r\n        id: 1\r\n    },\r\n    {\r\n        title: 'Quận 3',\r\n        id: 2\r\n    },\r\n    {\r\n        title: 'Quận 4',\r\n        id: 3\r\n    },\r\n    {\r\n        title: 'Quận 5',\r\n        id: 4\r\n    },\r\n    {\r\n        title: 'Quận 6',\r\n        id: 5\r\n    },\r\n    {\r\n        title: 'Quận 7',\r\n        id: 6\r\n    },\r\n    {\r\n        title: 'Quận 8',\r\n        id: 7\r\n    },\r\n    {\r\n        title: 'Quận 9',\r\n        id: 8\r\n    },\r\n    {\r\n        title: 'Quận 10',\r\n        id: 9\r\n    },\r\n    {\r\n        title: 'Quận 11',\r\n        id: 10\r\n    },\r\n    {\r\n        title: 'Quận 12',\r\n        id: 11\r\n    },\r\n    {\r\n        title: 'Q. Bình Tân',\r\n        id: 12\r\n    },\r\n    {\r\n        title: 'Q. Bình Thành',\r\n        id: 13\r\n    },\r\n    {\r\n        title: 'Q. Gò Vấp',\r\n        id: 14\r\n    },\r\n    {\r\n        title: 'Q. Phú Nhuận',\r\n        id: 15\r\n    },\r\n    {\r\n        title: 'Q. Tân Bình',\r\n        id: 16\r\n    },\r\n    {\r\n        title: 'Q. Tân Phú',\r\n        id: 17\r\n    },\r\n    {\r\n        title: 'Q. Thủ Đức',\r\n        id: 18\r\n    },\r\n    {\r\n        title: 'Huyện Bình Chánh',\r\n        id: 19\r\n    },\r\n    {\r\n        title: 'Huyện Cần Giờ',\r\n        id: 20\r\n    },\r\n    {\r\n        title: 'Huyện Củ Chi',\r\n        id: 21\r\n    },\r\n    {\r\n        title: 'Huyện Hóc Môn',\r\n        id: 22\r\n    },\r\n    {\r\n        title: 'Huyện Nhà Bè',\r\n        id: 23\r\n    },\r\n    {\r\n        title: 'Quận Khác',\r\n        id: 24\r\n    }\r\n]\r\n\r\n//SERVICE WORKERS\r\n//#region \r\n// I added a function that can be used to register a service worker.\r\nexport const showNotification = async (title, option) => {\r\n    const registerServiceWorker = async () => {\r\n        const swRegistration = await navigator.serviceWorker.register('./serviceWorker.js'); //notice the file name\r\n        return swRegistration;\r\n    }\r\n    \r\n    const requestNotificationPermission = async () => {\r\n      const permission = await window.Notification.requestPermission();\r\n      // value of permission can be 'granted', 'default', 'denied'\r\n      // granted: user has accepted the request\r\n      // default: user has dismissed the notification permission popup by clicking on x\r\n      // denied: user has denied the request.\r\n    //   if(permission !== 'granted'){\r\n    //       throw new Error('Permission not granted for Notification');\r\n    //   }\r\n    }\r\n    \r\n    //Request permissions\r\n    const swRegistration = await registerServiceWorker();\r\n    const permission =  await requestNotificationPermission();\r\n    \r\n    const showLocalNotification = (title, body) => {\r\n      const options = {\r\n          body,\r\n          // here you can add more properties like icon, image, vibrate, etc.\r\n      };\r\n    //   swRegistration.showNotification('Vibration Sample', {\r\n    //     body: 'Buzz! Buzz!',\r\n    //     vibrate: [200, 100, 200, 100, 200, 100, 200],\r\n    //     tag: 'vibration-sample'\r\n    //   });\r\n      swRegistration.showNotification(title, options);\r\n    }\r\n\r\n    showLocalNotification(title, option);\r\n}\r\n//#endregion\r\n\r\nexport const snapToArray = (snap) => {\r\n    var keys = [];\r\n    var counts = [];\r\n\r\n    snap.forEach(function(item) {\r\n        let itemVal = item.val();\r\n        keys.push(itemVal);\r\n    });\r\n    for (var i=0; i < keys.length; i++) {\r\n        counts.push(keys[i]);\r\n    }\r\n\r\n    return counts;\r\n}\r\n\r\nexport const randomId = length => {\r\n    var result           = '';\r\n    var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    var charactersLength = characters.length;\r\n    for ( var i = 0; i < length; i++ ) {\r\n      result += characters.charAt(Math.floor(Math.random() * \r\n        charactersLength));\r\n   }\r\n   return result;\r\n}","import {useState} from 'react';\r\n\r\nexport function Controller(props) {\r\n    const [location, setLocation] = useState(window.location.hash.replace('#', ''));\r\n\r\n    return {\r\n        location,\r\n        setLocation\r\n    }\r\n}","import React from 'react';\r\nimport \"./styles.scss\";\r\nimport {Link} from 'react-router-dom';\r\nimport {Controller} from './controller';\r\nimport {IoHomeOutline, IoList, IoNotificationsOutline, IoInformation,IoChevronBack} from 'react-icons/io5';\r\n\r\nexport const ChildHeaderBar = (props) => {\r\n    return (\r\n        <div className=\"child-header-container\">\r\n            <div className=\"child-header\">\r\n                <div className=\"copyright\">\r\n                    <a href=\"https://lavenstudio.cf\" target=\"_blank\">\r\n                        <span>DESIGNED BY LAVEN STUDIO IN HO CHI MINH CITY</span>\r\n                    </a>\r\n                </div>\r\n                <div className=\"information\">\r\n                    <span>HOTLINE: +84 0938415997</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const HeaderBar = (props) => {\r\n    const {location, setLocation} = new Controller(props);\r\n    const halfAuthed = localStorage.getItem('district') && localStorage.getItem('city') && localStorage.getItem('phone') ? true : false;\r\n    const fullAuthed = localStorage.getItem('uid');\r\n\r\n    if(!halfAuthed) return <div></div>\r\n\r\n    return (\r\n        <>\r\n            <ChildHeaderBar/>\r\n            <div className=\"header-container\">\r\n                <header>\r\n                    <div className=\"logo\">\r\n                        <Link to=\"/\">\r\n                            <h2>myO2</h2>\r\n                        </Link>\r\n                    </div>\r\n                    <ul>\r\n                        <li onClick={() => setLocation('/')} className={`${location === '/' ? 'active' : ''}`}><IoHomeOutline className=\"icon\"/><Link to=\"/\">Trang chủ</Link></li>\r\n                        {fullAuthed ? <li onClick={() => setLocation('/management')} className={`${location === '/management' ? 'active' : ''}`}><IoList className=\"icon\"/><Link to=\"/management\">Quản lý nơi cung cấp Oxy</Link></li> : null}\r\n                        {fullAuthed ? <li onClick={() => setLocation('/request')} className={`${location === '/request' ? 'active' : ''}`}><IoNotificationsOutline className=\"icon\"/><Link to=\"/request\">Yêu cầu hỗ trợ Oxy</Link></li> : null}\r\n                        <li onClick={() => setLocation('/information')} className={`${location === '/information' ? 'active' : ''}`}><IoInformation className=\"icon\"/><Link to=\"/information\">Thông tin</Link></li>\r\n                    </ul>\r\n                </header>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport const TopHeaderBar = (props) => {\r\n    return (\r\n        <div className=\"top-header-container\">\r\n            <Link to={props.goBack} className=\"go-back-btn\">\r\n                <IoChevronBack/>\r\n            </Link>\r\n            <h5>{props.title}</h5>\r\n        </div>\r\n    )\r\n}","import React, {useState, useEffect} from 'react';\r\nimport {Firebase, Database, findWithAttr, messaging} from '../../Global/Variables';\r\n\r\nexport function Controller() {\r\n    const [email, setEmail] = useState(null);\r\n    const [phone, setPhone] = useState(null);\r\n    const [password, setPassword] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [city, setCity] = useState(0);\r\n    const [district, setDistrict] = useState(0);\r\n    const [success, setSuccess] = useState(false);\r\n\r\n    const cities = [\r\n        {\r\n            title: 'TP. Hồ Chí Minh',\r\n            id: 0\r\n        }\r\n    ]\r\n\r\n    const districts = [\r\n        {\r\n            title: 'Quận 1',\r\n            id: 0\r\n        },\r\n        {\r\n            title: 'Quận 2',\r\n            id: 1\r\n        },\r\n        {\r\n            title: 'Quận 3',\r\n            id: 2\r\n        },\r\n        {\r\n            title: 'Quận 4',\r\n            id: 3\r\n        },\r\n        {\r\n            title: 'Quận 5',\r\n            id: 4\r\n        },\r\n        {\r\n            title: 'Quận 6',\r\n            id: 5\r\n        },\r\n        {\r\n            title: 'Quận 7',\r\n            id: 6\r\n        },\r\n        {\r\n            title: 'Quận 8',\r\n            id: 7\r\n        },\r\n        {\r\n            title: 'Quận 9',\r\n            id: 8\r\n        },\r\n        {\r\n            title: 'Quận 10',\r\n            id: 9\r\n        },\r\n        {\r\n            title: 'Quận 11',\r\n            id: 10\r\n        },\r\n        {\r\n            title: 'Quận 12',\r\n            id: 11\r\n        },\r\n        {\r\n            title: 'Q. Bình Tân',\r\n            id: 12\r\n        },\r\n        {\r\n            title: 'Q. Bình Thành',\r\n            id: 13\r\n        },\r\n        {\r\n            title: 'Q. Gò Vấp',\r\n            id: 14\r\n        },\r\n        {\r\n            title: 'Q. Phú Nhuận',\r\n            id: 15\r\n        },\r\n        {\r\n            title: 'Q. Tân Bình',\r\n            id: 16\r\n        },\r\n        {\r\n            title: 'Q. Tân Phú',\r\n            id: 17\r\n        },\r\n        {\r\n            title: 'Q. Thủ Đức',\r\n            id: 18\r\n        },\r\n        {\r\n            title: 'Huyện Bình Chánh',\r\n            id: 19\r\n        },\r\n        {\r\n            title: 'Huyện Cần Giờ',\r\n            id: 20\r\n        },\r\n        {\r\n            title: 'Huyện Củ Chi',\r\n            id: 21\r\n        },\r\n        {\r\n            title: 'Huyện Hóc Môn',\r\n            id: 22\r\n        },\r\n        {\r\n            title: 'Huyện Nhà Bè',\r\n            id: 23\r\n        },\r\n        {\r\n            title: 'Quận Khác',\r\n            id: 24\r\n        }\r\n    ]\r\n\r\n    //Đăng ký\r\n    const handleSignup = () => {\r\n        if(!email || !phone || !password) {\r\n            alert(\"Bạn chưa điền đầy đủ thông tin đăng ký!\");\r\n        }else{\r\n            setLoading(true);\r\n\r\n            Firebase.auth().createUserWithEmailAndPassword(email, password).then((e) => {\r\n                let data = {\r\n                    uid: e.user.uid,\r\n                    email: email,\r\n                    phone: phone,\r\n                    district: findWithAttr(districts, 'title', district),\r\n                    city:  findWithAttr(cities, 'title', city),\r\n                    pushToken: localStorage.getItem('pushToken')\r\n                }\r\n    \r\n                //Lưu thông tin đăng ký về csdl\r\n                Database.ref(`users/${data.uid}`).set(data).then(() => {\r\n                    //Đăng nhập cho user\r\n                    localStorage.setItem('phone', phone);\r\n                    localStorage.setItem('email', email);\r\n                    localStorage.setItem('uid', data.uid);\r\n                    localStorage.setItem('district', data.district);\r\n    \r\n                    setLoading(false);\r\n                    setSuccess(true);\r\n                }).catch(e => alert(e));\r\n            }).catch(e => alert(e));\r\n        }\r\n    }\r\n\r\n    //Đăng ký phân quyền thông báo\r\n    const handleRegisterNotificationPerm = async () => {\r\n        await window.Notification.requestPermission();\r\n\r\n        //Get firebase cloud msg token\r\n        messaging.getToken().then(async function() {\r\n          const token = await messaging.getToken();\r\n          localStorage.setItem('pushToken', token);\r\n        }).catch(function(err) {\r\n          //alert(\"Unable to get permission to notify.\", err);\r\n        });\r\n    }\r\n\r\n    return {\r\n        handleSignup,\r\n        email,\r\n        setEmail,\r\n        phone,\r\n        setPhone,\r\n        password,\r\n        setPassword,\r\n        loading,\r\n        cities,\r\n        districts,\r\n        setCity,\r\n        setDistrict,\r\n        success,\r\n        handleRegisterNotificationPerm\r\n    }\r\n}","import React, {useRef} from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport Button from '@material-ui/core/Button';\r\nimport {Controller} from './controller';\r\nimport {Redirect, Link} from 'react-router-dom';\r\n\r\nimport \"./styles.scss\";\r\n\r\nconst Signup = (props) => {\r\n    const {handleSignup, setEmail, handleRegisterNotificationPerm, setPhone, setPassword, loading, cities, districts, setCity, setDistrict, success} = new Controller(props);\r\n\r\n    if(success) return <Redirect to=\"/management\"/>\r\n\r\n    return(\r\n        <div className=\"center-form\">\r\n            <h1>Đăng ký tài khoản</h1>\r\n            <div className=\"form\">\r\n                <TextField onChange={(e) => setEmail(e.target.value)} label=\"Email\" variant=\"outlined\" type=\"email\"/>\r\n                <TextField onChange={(e) => setPhone(e.target.value)} label=\"Số điện thoại liên hệ\" variant=\"outlined\" type=\"phone\"/>\r\n                <Autocomplete\r\n                  id=\"combo-box-demo\"\r\n                  options={cities}\r\n                  getOptionLabel={(option) => option.title}\r\n                  renderInput={(params) => <TextField {...params} label=\"Thành phố\" variant=\"outlined\" \r\n                  onSelect={(e) => setCity(e.target.value)} />}\r\n                />\r\n                <Autocomplete\r\n                  id=\"combo-box-demo\"\r\n                  options={districts}\r\n                  getOptionLabel={(option) => option.title}\r\n                  renderInput={(params) => <TextField {...params} label=\"Quận / huyện\" variant=\"outlined\" \r\n                  onSelect={(e) => setDistrict(e.target.value)}/>}\r\n                />\r\n                <TextField onChange={(e) => setPassword(e.target.value)} label=\"Mật khẩu\" variant=\"outlined\" type=\"password\"/>\r\n                <Button color=\"primary\" onClick={handleRegisterNotificationPerm}>Cho phép gửi thông báo</Button>\r\n                <Button style={{marginTop: 12}} disabled={loading} onClick={handleSignup} variant=\"contained\" color=\"primary\">Đăng ký</Button>\r\n            </div>\r\n            <span className=\"action-label\">Bạn đã có tài khoản ? <Link to=\"/login\">Đăng nhập</Link></span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signup;","import React, {useState} from 'react';\r\nimport {Firebase, Database, snapToArray, messaging} from '../../Global/Variables';\r\n\r\nexport function Controller(props) {\r\n    const [email, setEmail] = useState(null);\r\n    const [password, setPassword] = useState(null);\r\n    const [success, setSuccess] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleLogin = () => {\r\n        if(!email || !password) {\r\n            alert(\"Bạn chưa điền đầy đủ thông tin đăng nhập!\")\r\n        }else{\r\n            setLoading(true);\r\n\r\n            Firebase.auth().signInWithEmailAndPassword(email, password).then(e => {\r\n                //Update pushToken\r\n                Database.ref(`users/${e.user.uid}`).update({pushToken: localStorage.getItem('pushToken')}).then(() => {\r\n                    //Lấy thông tin user từ csdl\r\n                    Database.ref(`users/${e.user.uid}`).once('value', result => {\r\n                        localStorage.setItem('uid', result.val().uid);\r\n                        localStorage.setItem('email', result.val().email);\r\n                        localStorage.setItem('phone', result.val().phone);\r\n                        localStorage.setItem('city', result.val().city);\r\n                        localStorage.setItem('district', result.val().district);\r\n    \r\n                        setLoading(false);\r\n                        setSuccess(true);\r\n                    });\r\n                }).catch(e => alert(e));\r\n            }).catch(e => {\r\n                alert('Password hoặc email không chính xác!'); \r\n                setLoading(false); \r\n            });\r\n        }\r\n    }\r\n\r\n    //Đăng ký phân quyền thông báo\r\n    const handleRegisterNotificationPerm = async () => {\r\n        await window.Notification.requestPermission();\r\n\r\n        //Get firebase cloud msg token\r\n        messaging.getToken().then(async function() {\r\n          const token = await messaging.getToken();\r\n          localStorage.setItem('pushToken', token);\r\n        }).catch(function(err) {\r\n          //alert(\"Unable to get permission to notify.\", err);\r\n        });\r\n    }\r\n\r\n    return {\r\n        handleLogin,\r\n        setEmail,\r\n        setPassword,\r\n        success,\r\n        loading,\r\n        handleRegisterNotificationPerm\r\n    }\r\n}","import React, {useRef} from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport Button from '@material-ui/core/Button';\r\nimport {Controller} from './controller';\r\nimport {Redirect, Link} from 'react-router-dom';\r\n\r\nimport \"./styles.scss\";\r\n\r\nconst Signup = (props) => {\r\n    const {handleLogin, setEmail, handleRegisterNotificationPerm, setPassword, loading, success} = new Controller(props);\r\n\r\n    if(success) return <Redirect to=\"/management\"/>\r\n\r\n    return(\r\n        <div className=\"center-form\">\r\n            <h1>Đăng nhập</h1>\r\n            <div className=\"form\">\r\n                <TextField onChange={(e) => setEmail(e.target.value)} label=\"Email\" variant=\"outlined\" type=\"email\"/>\r\n                <TextField onChange={(e) => setPassword(e.target.value)} label=\"Mật khẩu\" variant=\"outlined\" type=\"password\"/>\r\n                <Button color=\"primary\" onClick={handleRegisterNotificationPerm}>Cho phép gửi thông báo</Button>\r\n                <Button style={{marginTop: 12}} disabled={loading} onClick={handleLogin} variant=\"contained\" color=\"primary\">Đăng nhập</Button>\r\n            </div>\r\n            <span className=\"action-label\">Bạn chưa có tài khoản ? <Link to=\"/signup\">Đăng ký</Link></span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signup;","import React, {useState} from 'react';\r\n\r\nexport function Controller(props) {\r\n    const [visible, setVisible] = useState(props.opened ? true : false);\r\n\r\n    //Thay đổi trạng thái hiển thị list\r\n    const handleChangeVisible = () => setVisible(!visible);\r\n\r\n    return {\r\n        visible,\r\n        handleChangeVisible\r\n    }\r\n}","import React from 'react';\r\nimport {IoIosArrowDown, IoIosAdd} from 'react-icons/io';\r\nimport  {Controller} from './controller';\r\nimport \"./styles.scss\";\r\n\r\nexport const CollapList = (props) => {\r\n    const {visible, handleChangeVisible} = new Controller(props);\r\n\r\n    return (\r\n        <div className=\"collap-list\">\r\n            <div className=\"collap-header\" onClick={handleChangeVisible}>\r\n                <h5 className=\"title\">{props.title}</h5>\r\n                <div className=\"add-btn\" onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    props.onAddNew();\r\n                }}>\r\n                    <IoIosAdd className=\"icon\"/>\r\n                    <span>Thêm</span>\r\n                </div>\r\n                <IoIosArrowDown className={`dropdown ${visible ? 'up' : ''}`}/>\r\n            </div>\r\n            <div className={`container ${visible ? 'show' : ''}`}>\r\n                {props.children}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import {useState, useEffect} from 'react';\r\nimport {Database, snapToArray} from '../../Global/Variables';\r\n\r\nexport function Controller(props) {\r\n    const [o2, setO2] = useState(null);\r\n    const [redirectAddNew, setRedirectAddNew] = useState(null);\r\n\r\n    const districts = [\r\n        {\r\n            title: 'Quận 1',\r\n            id: 0\r\n        },\r\n        {\r\n            title: 'Quận 2',\r\n            id: 1\r\n        },\r\n        {\r\n            title: 'Quận 3',\r\n            id: 2\r\n        },\r\n        {\r\n            title: 'Quận 4',\r\n            id: 3\r\n        },\r\n        {\r\n            title: 'Quận 5',\r\n            id: 4\r\n        },\r\n        {\r\n            title: 'Quận 6',\r\n            id: 5\r\n        },\r\n        {\r\n            title: 'Quận 7',\r\n            id: 6\r\n        },\r\n        {\r\n            title: 'Quận 8',\r\n            id: 7\r\n        },\r\n        {\r\n            title: 'Quận 9',\r\n            id: 8\r\n        },\r\n        {\r\n            title: 'Quận 10',\r\n            id: 9\r\n        },\r\n        {\r\n            title: 'Quận 11',\r\n            id: 10\r\n        },\r\n        {\r\n            title: 'Quận 12',\r\n            id: 11\r\n        },\r\n        {\r\n            title: 'Q. Bình Tân',\r\n            id: 12\r\n        },\r\n        {\r\n            title: 'Q. Bình Thành',\r\n            id: 13\r\n        },\r\n        {\r\n            title: 'Q. Gò Vấp',\r\n            id: 14\r\n        },\r\n        {\r\n            title: 'Q. Phú Nhuận',\r\n            id: 15\r\n        },\r\n        {\r\n            title: 'Q. Tân Bình',\r\n            id: 16\r\n        },\r\n        {\r\n            title: 'Q. Tân Phú',\r\n            id: 17\r\n        },\r\n        {\r\n            title: 'Q. Thủ Đức',\r\n            id: 18\r\n        },\r\n        {\r\n            title: 'Huyện Bình Chánh',\r\n            id: 19\r\n        },\r\n        {\r\n            title: 'Huyện Cần Giờ',\r\n            id: 20\r\n        },\r\n        {\r\n            title: 'Huyện Củ Chi',\r\n            id: 21\r\n        },\r\n        {\r\n            title: 'Huyện Hóc Môn',\r\n            id: 22\r\n        },\r\n        {\r\n            title: 'Huyện Nhà Bè',\r\n            id: 23\r\n        },\r\n        {\r\n            title: 'Quận Khác',\r\n            id: 24\r\n        }\r\n    ]\r\n\r\n    //Load data\r\n    useEffect(() => {\r\n        fetchData(res => setO2(res));\r\n    }, [])\r\n\r\n    //Fetch data\r\n    const fetchData = async (callback) => {\r\n        let districtData = [];\r\n\r\n        //Promis lấy từng data của từng quận\r\n        Promise.all(districts.map((data, i) => {\r\n            return new Promise((res) => {\r\n                Database.ref(`o2/${i}`).on('value', snapshot => {\r\n                    res(snapToArray(snapshot));\r\n                })\r\n            })\r\n        })).then((res) => {\r\n            return callback(res);\r\n        })\r\n    }\r\n\r\n    return {\r\n        districts,\r\n        o2,\r\n        setRedirectAddNew,\r\n        redirectAddNew\r\n    }\r\n}","export function Controller(props) {\r\n    \r\n    const cities = [\r\n        {\r\n            title: 'TP. Hồ Chí Minh',\r\n            id: 0\r\n        }\r\n    ]\r\n\r\n    const districts = [\r\n        {\r\n            title: 'Quận 1',\r\n            id: 0\r\n        },\r\n        {\r\n            title: 'Quận 2',\r\n            id: 1\r\n        },\r\n        {\r\n            title: 'Quận 3',\r\n            id: 2\r\n        },\r\n        {\r\n            title: 'Quận 4',\r\n            id: 3\r\n        },\r\n        {\r\n            title: 'Quận 5',\r\n            id: 4\r\n        },\r\n        {\r\n            title: 'Quận 6',\r\n            id: 5\r\n        },\r\n        {\r\n            title: 'Quận 7',\r\n            id: 6\r\n        },\r\n        {\r\n            title: 'Quận 8',\r\n            id: 7\r\n        },\r\n        {\r\n            title: 'Quận 9',\r\n            id: 8\r\n        },\r\n        {\r\n            title: 'Quận 10',\r\n            id: 9\r\n        },\r\n        {\r\n            title: 'Quận 11',\r\n            id: 10\r\n        },\r\n        {\r\n            title: 'Quận 12',\r\n            id: 11\r\n        },\r\n        {\r\n            title: 'Q. Bình Tân',\r\n            id: 12\r\n        },\r\n        {\r\n            title: 'Q. Bình Thành',\r\n            id: 13\r\n        },\r\n        {\r\n            title: 'Q. Gò Vấp',\r\n            id: 14\r\n        },\r\n        {\r\n            title: 'Q. Phú Nhuận',\r\n            id: 15\r\n        },\r\n        {\r\n            title: 'Q. Tân Bình',\r\n            id: 16\r\n        },\r\n        {\r\n            title: 'Q. Tân Phú',\r\n            id: 17\r\n        },\r\n        {\r\n            title: 'Q. Thủ Đức',\r\n            id: 18\r\n        },\r\n        {\r\n            title: 'Huyện Bình Chánh',\r\n            id: 19\r\n        },\r\n        {\r\n            title: 'Huyện Cần Giờ',\r\n            id: 20\r\n        },\r\n        {\r\n            title: 'Huyện Củ Chi',\r\n            id: 21\r\n        },\r\n        {\r\n            title: 'Huyện Hóc Môn',\r\n            id: 22\r\n        },\r\n        {\r\n            title: 'Huyện Nhà Bè',\r\n            id: 23\r\n        },\r\n        {\r\n            title: 'Quận Khác',\r\n            id: 24\r\n        }\r\n    ]\r\n\r\n    return {\r\n        cities,\r\n        districts\r\n    }\r\n}","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {HiPencil} from 'react-icons/hi';\r\nimport \"./styles.scss\";\r\nimport {Controller} from './controller';\r\n\r\nexport const Card = (props) => {\r\n    const {districts, cities} = new Controller(props);\r\n\r\n    let data = props.data;\r\n\r\n    return(\r\n        <Link to={props.edit ? `edit/${data.district}/${data.id}` : `oxy/${data.district}/${data.id}`} className=\"card\">\r\n            {props.edit ? \r\n            <div className=\"action-btn\">\r\n                <HiPencil className=\"icon\"/>\r\n                <span>Chỉnh sửa</span>\r\n            </div> : null}\r\n            <div className=\"image\" style={{background: `url(${data.image}) no-repeat center center / cover`}}></div>\r\n            <div className=\"information-container\">\r\n                <div className=\"information\">\r\n                        <div className=\"title\">\r\n                        <h5>{data.name}</h5>\r\n                    </div>\r\n                    <p>{data.address},phường {data.ward}, {districts[data.district].title}, {cities[data.city].title}</p>\r\n                </div>\r\n                <div className=\"status-container\">\r\n                    <div className={`status ${data.status ? 'green' : 'red'}`}>\r\n                        <span>{data.status ? 'Còn' : 'Đã hết'} Oxy</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Link>\r\n    )\r\n}","import React from 'react';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport \"./styles.scss\";\r\n\r\nexport const LoadingScreen = (props) => {\r\n    return (\r\n        <div className=\"loading-screen\">\r\n            <ClipLoader color={`rgb(0, 122, 255)`} loading={true} size={50}/>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport {CollapList} from '../../components/CollapList';\r\nimport {Link} from 'react-router-dom';\r\nimport {Controller} from './controller';\r\nimport {HiPencil} from 'react-icons/hi';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {Card} from '../../components/Card';\r\nimport { LoadingScreen } from '../../components/LoadingScreen';\r\nimport \"./styles.scss\";\r\n\r\nconst Management = (props) => {\r\n    const {districts, o2, setRedirectAddNew, redirectAddNew}  = new Controller(props);\r\n    \r\n    if(redirectAddNew) return <Redirect to={`/add/${redirectAddNew}`}/>\r\n    if(!o2) return <LoadingScreen/>\r\n\r\n    return (\r\n        <div  className=\"view\">\r\n            <h1 style={{fontSize: 24,color: `rgb(0, 122, 255)`,marginTop: 32}}>Quản lý khu vực cung cấp Oxy</h1>\r\n            {districts.map((data, i) => {\r\n                return (\r\n                    <CollapList title={data.title} key={`col-list-${i}`} onAddNew={() => setRedirectAddNew(i + 1)}>\r\n                        <div className=\"card-container\">\r\n                            {o2[i]?.map((item, a) => {\r\n                                if(item.uid === localStorage.getItem('uid')) { \r\n                                    return (\r\n                                        <Card data={item} key={`o2-item-${a}`} edit/>\r\n                                    )\r\n                                }\r\n                            })}\r\n                        </div>\r\n\r\n                        {o2[i]?.length ? '' : <span style={{width: '100%', display: 'flex', justifyContent: 'center'}}>Chưa có nhà cung cấp tại quận này</span>} \r\n                    </CollapList>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Management;","import {useState} from 'react';\r\nimport Axios from 'axios';\r\nimport {findWithAttr, Firebase, randomId, Database, snapToArray} from '../../Global/Variables';\r\nimport { useEffect } from 'react';\r\n\r\nexport function Controller(props) {\r\n    const cities = [\r\n        {\r\n            title: 'TP. Hồ Chí Minh',\r\n            id: 0\r\n        }\r\n    ]\r\n\r\n    const districts = [\r\n        {\r\n            title: 'Quận 1',\r\n            id: 0\r\n        },\r\n        {\r\n            title: 'Quận 2',\r\n            id: 1\r\n        },\r\n        {\r\n            title: 'Quận 3',\r\n            id: 2\r\n        },\r\n        {\r\n            title: 'Quận 4',\r\n            id: 3\r\n        },\r\n        {\r\n            title: 'Quận 5',\r\n            id: 4\r\n        },\r\n        {\r\n            title: 'Quận 6',\r\n            id: 5\r\n        },\r\n        {\r\n            title: 'Quận 7',\r\n            id: 6\r\n        },\r\n        {\r\n            title: 'Quận 8',\r\n            id: 7\r\n        },\r\n        {\r\n            title: 'Quận 9',\r\n            id: 8\r\n        },\r\n        {\r\n            title: 'Quận 10',\r\n            id: 9\r\n        },\r\n        {\r\n            title: 'Quận 11',\r\n            id: 10\r\n        },\r\n        {\r\n            title: 'Quận 12',\r\n            id: 11\r\n        },\r\n        {\r\n            title: 'Q. Bình Tân',\r\n            id: 12\r\n        },\r\n        {\r\n            title: 'Q. Bình Thành',\r\n            id: 13\r\n        },\r\n        {\r\n            title: 'Q. Gò Vấp',\r\n            id: 14\r\n        },\r\n        {\r\n            title: 'Q. Phú Nhuận',\r\n            id: 15\r\n        },\r\n        {\r\n            title: 'Q. Tân Bình',\r\n            id: 16\r\n        },\r\n        {\r\n            title: 'Q. Tân Phú',\r\n            id: 17\r\n        },\r\n        {\r\n            title: 'Q. Thủ Đức',\r\n            id: 18\r\n        },\r\n        {\r\n            title: 'Huyện Bình Chánh',\r\n            id: 19\r\n        },\r\n        {\r\n            title: 'Huyện Cần Giờ',\r\n            id: 20\r\n        },\r\n        {\r\n            title: 'Huyện Củ Chi',\r\n            id: 21\r\n        },\r\n        {\r\n            title: 'Huyện Hóc Môn',\r\n            id: 22\r\n        },\r\n        {\r\n            title: 'Huyện Nhà Bè',\r\n            id: 23\r\n        },\r\n        {\r\n            title: 'Quận Khác',\r\n            id: 24\r\n        }\r\n    ]\r\n\r\n    const statusOptions = [{\r\n        title: 'Còn Oxy',\r\n        id: 0\r\n    }, {\r\n        title: 'Đã hết Oxy',\r\n        id: 1\r\n    }]\r\n\r\n    const [city, setCity] = useState(0);\r\n    const [district, setDistrict] = useState(0);\r\n    const [image, setImage] = useState(null);\r\n    const [imageURL, setImageURL]  = useState(null);\r\n    const [name, setName] = useState(null);\r\n    const [phone, setPhone] = useState(null);\r\n    const [ward, setWard] = useState(null);\r\n    const [address, setAddress] = useState(null);\r\n    const [information, setInformation] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [success, setSuccess] = useState(false);\r\n    const [isEdit, setIsEdit] = useState(props.isEdit || false);\r\n    const [editData, setEditData] = useState(null);\r\n    const [status, setStatus] = useState(true);\r\n    \r\n    //Load data nếu đang ở chế độ edit\r\n    useEffect(() => {\r\n        if(isEdit) {\r\n            setLoading(true);\r\n            Database.ref(`o2/${props.match.params.district}/${props.match.params.id}`).once('value', snapshot => {\r\n                let data = snapshot.val();\r\n                //Save to  state\r\n                setCity(cities[data.city].title);\r\n                setDistrict(districts[data.district].title);\r\n                setImage(data.image);\r\n                setImageURL(data.image);\r\n                setName(data.name);\r\n                setPhone(data.phone);\r\n                setAddress(data.address);\r\n                setWard(data.ward);\r\n                setInformation(data.information);\r\n                setLoading(false);\r\n                setEditData(data);\r\n                setStatus(data.status);\r\n            })\r\n        }\r\n    }, [])\r\n\r\n    //Upload image\r\n    const handleUploadImage = async (e) => {\r\n        const file = e.target.files[0];\r\n        //Display image  preview\r\n        setImage(URL.createObjectURL(file))\r\n        \r\n        const storageRef = Firebase.storage().ref();\r\n        const fileRef = storageRef.child(file.name);\r\n        await fileRef.put(file);\r\n\r\n        //Save image state\r\n        setImageURL(await fileRef.getDownloadURL());\r\n    }\r\n\r\n    //Submit\r\n    const handleSubmit = () => {\r\n        setLoading(true);\r\n\r\n        let data = {\r\n            id: randomId(20),\r\n            uid: localStorage.getItem('uid'),\r\n            name: name,\r\n            phone: phone,\r\n            city: findWithAttr(cities, 'title', city),\r\n            district: findWithAttr(districts, 'title', district),\r\n            ward: ward,\r\n            address: address,\r\n            information: information,\r\n            image: imageURL,\r\n            status: status\r\n        }\r\n\r\n        if(isEdit) {\r\n            data.id = props.match.params.id;\r\n\r\n            //If new district different old district\r\n            if(props.match.params.district !== data.district) {\r\n                //Remove old district\r\n                Database.ref(`o2/${props.match.params.district}/${data.id}`).remove().catch(e => alert(e))\r\n            }\r\n\r\n            //Save to database\r\n            Database.ref(`o2/${data.district}/${data.id}`).update(data).then(res => {\r\n                alert(\"Lưu thành công!\");\r\n                setLoading(false);\r\n                setSuccess(true);\r\n            }).catch(e => {\r\n                alert(e);\r\n                setLoading(false);\r\n            });\r\n        }else{\r\n            //Create new\r\n            Database.ref(`o2/${data.district}/${data.id}`).set(data).then(res => {\r\n                alert(\"Thêm thành công!\");\r\n                setLoading(false);\r\n                setSuccess(true);\r\n            }).catch(e => {\r\n                alert(e);\r\n                setLoading(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    return {\r\n        cities,\r\n        districts,\r\n        setCity,\r\n        setDistrict,\r\n        handleUploadImage,\r\n        image,\r\n        setName,\r\n        setPhone,\r\n        setWard,\r\n        setAddress,\r\n        setInformation,\r\n        handleSubmit,\r\n        loading,\r\n        success,\r\n        name,\r\n        phone,\r\n        district,\r\n        city,\r\n        ward,\r\n        address,\r\n        information,\r\n        editData,\r\n        isEdit,\r\n        statusOptions,\r\n        status,\r\n        setStatus\r\n    }\r\n}","import React, {useRef} from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport {Controller} from './controller';\r\nimport Button from '@material-ui/core/Button';\r\nimport {Redirect} from 'react-router-dom'\r\nimport {findWithAttr} from '../../Global/Variables';\r\nimport {TopHeaderBar} from '../../components/HeaderBar';\r\nimport { LoadingScreen } from '../../components/LoadingScreen';\r\nimport \"./styles.scss\";\r\n\r\nconst AddNew = (props) => {\r\n    const {cities, districts, statusOptions, setStatus, status, setCity,success, editData, loading, setDistrict, name, isEdit, district, city, phone, ward,address,information, handleUploadImage, image, setName, setPhone, setAddress, setWard, setInformation, handleSubmit} = new Controller(props);\r\n    const imageRef = useRef(0);\r\n\r\n    if(success) return <Redirect to=\"/management\"/>\r\n\r\n    if(isEdit && !editData) return <LoadingScreen/>\r\n    \r\n    return (\r\n        <div className=\"view add-new\">\r\n            <TopHeaderBar title={`${isEdit ? 'Chỉnh sửa nơi cung cấp Oxy' : 'Thêm nơi cung cấp Oxy'}`} goBack=\"/management\"/>\r\n            <div className=\"form\">\r\n                <h1>{isEdit ? 'Chỉnh sửa' : 'Thêm'} nơi cung cấp Oxy</h1>\r\n                <label className=\"image\" htmlFor={'image-input'} style={{background: `${image ? `url(${image}) no-repeat  center  center / cover` : `#f1f1f1`}`}}>\r\n                    <div className=\"add\">\r\n                        <span>Thêm ảnh</span>\r\n                    </div>\r\n                </label>\r\n                <input type=\"file\" ref={imageRef} id=\"image-input\" className=\"file-input\" onChange={handleUploadImage}/>\r\n\r\n                <TextField id=\"outlined-basic\" required defaultValue={name} label=\"Tên nhà cung cấp\" variant=\"outlined\" onChange={(e) => setName(e.target.value)}/>\r\n                <TextField id=\"outlined-basic\" required defaultValue={phone} label=\"Số điện thoại\" variant=\"outlined\"  onChange={(e) => setPhone(e.target.value)}/>\r\n                <Autocomplete\r\n                  id=\"combo-box-demo\"\r\n                  options={cities}\r\n                  getOptionLabel={(option) => option.title}\r\n                  defaultValue={cities[findWithAttr(cities, 'title', city)]}\r\n                  renderInput={(params) => <TextField {...params} required label=\"Thành phố\" variant=\"outlined\" \r\n                  onSelect={(e) => setCity(e.target.value)} />}\r\n                />\r\n                <Autocomplete\r\n                  id=\"combo-box-demo\"\r\n                  options={districts}\r\n                  getOptionLabel={(option) => option.title}\r\n                  defaultValue={districts[findWithAttr(districts, 'title', district)]}\r\n                  renderInput={(params) => <TextField {...params} required label=\"Quận / huyện\" variant=\"outlined\" \r\n                  onSelect={(e) => setDistrict(e.target.value)}/>}\r\n                />\r\n                <TextField id=\"outlined-basic\" required defaultValue={ward} label=\"Tên phường\" variant=\"outlined\"  onChange={(e) => setWard(e.target.value)}/>\r\n                <TextField id=\"outlined-basic\" required defaultValue={address} label=\"Tên đường, số nhà\" variant=\"outlined\"  onChange={(e) => setAddress(e.target.value)}/>\r\n                <Autocomplete\r\n                  id=\"combo-box-demo\"\r\n                  options={statusOptions}\r\n                  getOptionLabel={(option) => option.title}\r\n                  defaultValue={statusOptions[status ? 0 : 1]}\r\n                  renderInput={(params) => <TextField {...params} required label=\"Trạng thái hỗ trợ\" variant=\"outlined\" \r\n                  onSelect={(e) => setStatus(findWithAttr(statusOptions, 'title', e.target.value) == 0 ? true : false)}/>}\r\n                />\r\n                <TextField id=\"outlined-basic\" defaultValue={information} label=\"Nội dung thêm khác\" variant=\"outlined\"  onChange={(e) => setInformation(e.target.value)}/>\r\n                <Button disabled={loading} variant=\"contained\" color=\"primary\" onClick={handleSubmit}>{props.isEdit ? 'Lưu' : 'Thêm'}</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddNew;","import {useState, useEffect} from 'react';\r\nimport {Database, snapToArray} from '../../Global/Variables';\r\n\r\nexport function Controller(props) {\r\n    const [o2, setO2] = useState(null);\r\n    const [redirectAddNew, setRedirectAddNew] = useState(null);\r\n\r\n    const districts = [\r\n        {\r\n            title: 'Quận 1',\r\n            id: 0\r\n        },\r\n        {\r\n            title: 'Quận 2',\r\n            id: 1\r\n        },\r\n        {\r\n            title: 'Quận 3',\r\n            id: 2\r\n        },\r\n        {\r\n            title: 'Quận 4',\r\n            id: 3\r\n        },\r\n        {\r\n            title: 'Quận 5',\r\n            id: 4\r\n        },\r\n        {\r\n            title: 'Quận 6',\r\n            id: 5\r\n        },\r\n        {\r\n            title: 'Quận 7',\r\n            id: 6\r\n        },\r\n        {\r\n            title: 'Quận 8',\r\n            id: 7\r\n        },\r\n        {\r\n            title: 'Quận 9',\r\n            id: 8\r\n        },\r\n        {\r\n            title: 'Quận 10',\r\n            id: 9\r\n        },\r\n        {\r\n            title: 'Quận 11',\r\n            id: 10\r\n        },\r\n        {\r\n            title: 'Quận 12',\r\n            id: 11\r\n        },\r\n        {\r\n            title: 'Q. Bình Tân',\r\n            id: 12\r\n        },\r\n        {\r\n            title: 'Q. Bình Thành',\r\n            id: 13\r\n        },\r\n        {\r\n            title: 'Q. Gò Vấp',\r\n            id: 14\r\n        },\r\n        {\r\n            title: 'Q. Phú Nhuận',\r\n            id: 15\r\n        },\r\n        {\r\n            title: 'Q. Tân Bình',\r\n            id: 16\r\n        },\r\n        {\r\n            title: 'Q. Tân Phú',\r\n            id: 17\r\n        },\r\n        {\r\n            title: 'Q. Thủ Đức',\r\n            id: 18\r\n        },\r\n        {\r\n            title: 'Huyện Bình Chánh',\r\n            id: 19\r\n        },\r\n        {\r\n            title: 'Huyện Cần Giờ',\r\n            id: 20\r\n        },\r\n        {\r\n            title: 'Huyện Củ Chi',\r\n            id: 21\r\n        },\r\n        {\r\n            title: 'Huyện Hóc Môn',\r\n            id: 22\r\n        },\r\n        {\r\n            title: 'Huyện Nhà Bè',\r\n            id: 23\r\n        },\r\n        {\r\n            title: 'Quận Khác',\r\n            id: 24\r\n        }\r\n    ]\r\n\r\n    //Load data\r\n    useEffect(() => {\r\n        fetchData(res => setO2(res));\r\n    }, [])\r\n\r\n    //Fetch data\r\n    const fetchData = async (callback) => {\r\n        let districtData = [];\r\n\r\n        //Promis lấy từng data của từng quận\r\n        Promise.all(districts.map((data, i) => {\r\n            return new Promise((res) => {\r\n                Database.ref(`o2/${i}`).on('value', snapshot => {\r\n                    res(snapToArray(snapshot));\r\n                })\r\n            })\r\n        })).then((res) => {\r\n            return callback(res);\r\n        })\r\n    }\r\n\r\n    return {\r\n        districts,\r\n        o2,\r\n        setRedirectAddNew,\r\n        redirectAddNew\r\n    }\r\n}","import React from 'react';\r\nimport {CollapList} from '../../components/CollapList';\r\nimport {Link} from 'react-router-dom';\r\nimport {Controller} from './controller';\r\nimport {HiPencil} from 'react-icons/hi';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {Card} from '../../components/Card';\r\nimport { LoadingScreen } from '../../components/LoadingScreen';\r\nimport \"./styles.scss\";\r\n\r\nconst Home = (props) => {\r\n    const {districts, o2, setRedirectAddNew, redirectAddNew}  = new Controller(props);\r\n    \r\n    if(redirectAddNew) return <Redirect to={`/add/${redirectAddNew}`}/>\r\n    if(!o2) return <LoadingScreen/>\r\n\r\n    return (\r\n        <div  className=\"view\">\r\n            <h2 style={{marginTop: 32, fontSize: 24, color: '#007aff'}}>Quận của bạn</h2>\r\n            <CollapList opened title={districts[localStorage.getItem('district')].title} onAddNew={() => setRedirectAddNew(+localStorage.getItem('district') + 1)}>\r\n                <div className=\"card-container\">\r\n                    {o2[+localStorage.getItem('district')]?.map((item, a) => {\r\n                        if(item.uid === localStorage.getItem('uid')) { \r\n                            return (\r\n                                <Card data={item} key={`o2-item-${a}`}/>\r\n                            )\r\n                        }\r\n                    })}\r\n                </div>\r\n                {o2[+localStorage.getItem('district')]?.length ? '' : <span style={{width: '100%', display: 'flex', justifyContent: 'center'}}>Chưa có nhà cung cấp tại quận này</span>}\r\n            </CollapList>\r\n\r\n            <h2 style={{marginTop: 48, fontSize: 24, color: '#007aff'}}>Các quận khác</h2>\r\n            {districts.map((data, i) => {\r\n                return (\r\n                    <CollapList title={data.title} key={`col-list-${i}`} onAddNew={() => setRedirectAddNew(i + 1)}>\r\n                        <div className=\"card-container\">\r\n                            {o2[i]?.map((item, a) => {\r\n                                if(item.uid === localStorage.getItem('uid')) { \r\n                                    return (\r\n                                        <Card data={item} key={`o2-item-${a}`}/>\r\n                                    )\r\n                                }\r\n                            })}\r\n                        </div>\r\n\r\n                        {o2[i]?.length ? '' : <span style={{width: '100%', display: 'flex', justifyContent: 'center'}}>Chưa có nhà cung cấp tại quận này</span>} \r\n                    </CollapList>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home;","import { useEffect, useState} from \"react\";\r\nimport {Database, snapToArray, randomId} from '../../Global/Variables';\r\nimport Axios from 'axios';\r\n\r\nexport function Controller(props) {\r\n    const [data, setData] = useState(null);\r\n    const [address, setAddress] = useState(null);\r\n    const [ward, setWard] = useState(null);\r\n    const [name, setName] = useState(null);\r\n    const [information, setInformation] = useState(null);\r\n    const [loading, setLoading] = useState(localStorage.getItem(\"requested\").indexOf(props.match.params.id) > -1 ? true : false);\r\n\r\n    const cities = [\r\n        {\r\n            title: 'TP. Hồ Chí Minh',\r\n            id: 0\r\n        }\r\n    ]\r\n\r\n    const districts = [\r\n        {\r\n            title: 'Quận 1',\r\n            id: 0\r\n        },\r\n        {\r\n            title: 'Quận 2',\r\n            id: 1\r\n        },\r\n        {\r\n            title: 'Quận 3',\r\n            id: 2\r\n        },\r\n        {\r\n            title: 'Quận 4',\r\n            id: 3\r\n        },\r\n        {\r\n            title: 'Quận 5',\r\n            id: 4\r\n        },\r\n        {\r\n            title: 'Quận 6',\r\n            id: 5\r\n        },\r\n        {\r\n            title: 'Quận 7',\r\n            id: 6\r\n        },\r\n        {\r\n            title: 'Quận 8',\r\n            id: 7\r\n        },\r\n        {\r\n            title: 'Quận 9',\r\n            id: 8\r\n        },\r\n        {\r\n            title: 'Quận 10',\r\n            id: 9\r\n        },\r\n        {\r\n            title: 'Quận 11',\r\n            id: 10\r\n        },\r\n        {\r\n            title: 'Quận 12',\r\n            id: 11\r\n        },\r\n        {\r\n            title: 'Q. Bình Tân',\r\n            id: 12\r\n        },\r\n        {\r\n            title: 'Q. Bình Thành',\r\n            id: 13\r\n        },\r\n        {\r\n            title: 'Q. Gò Vấp',\r\n            id: 14\r\n        },\r\n        {\r\n            title: 'Q. Phú Nhuận',\r\n            id: 15\r\n        },\r\n        {\r\n            title: 'Q. Tân Bình',\r\n            id: 16\r\n        },\r\n        {\r\n            title: 'Q. Tân Phú',\r\n            id: 17\r\n        },\r\n        {\r\n            title: 'Q. Thủ Đức',\r\n            id: 18\r\n        },\r\n        {\r\n            title: 'Huyện Bình Chánh',\r\n            id: 19\r\n        },\r\n        {\r\n            title: 'Huyện Cần Giờ',\r\n            id: 20\r\n        },\r\n        {\r\n            title: 'Huyện Củ Chi',\r\n            id: 21\r\n        },\r\n        {\r\n            title: 'Huyện Hóc Môn',\r\n            id: 22\r\n        },\r\n        {\r\n            title: 'Huyện Nhà Bè',\r\n            id: 23\r\n        },\r\n        {\r\n            title: 'Quận Khác',\r\n            id: 24\r\n        }\r\n    ]\r\n\r\n    //Fetch Data\r\n    useEffect(() => {\r\n        Database.ref(`o2/${props.match.params.district}/${props.match.params.id}`).once('value', snapshot => {\r\n            setData(snapshot.val())\r\n        })\r\n    }, [])\r\n\r\n    //Gửi yêu cầu\r\n    const handleSendRequest = () => {\r\n        if(!name || !ward || !address) {\r\n            alert(\"Vui lòng điền đầy đủ thông tin!\");\r\n        }else{\r\n            let requestData = {\r\n                name: name,\r\n                ward: ward,\r\n                address: address,\r\n                information: information,\r\n                district: localStorage.getItem('district'),\r\n                city: 0,\r\n                phone: localStorage.getItem('phone'),\r\n                id: randomId(12),\r\n                uid: data.uid,\r\n                accepted: false\r\n            }\r\n\r\n            setLoading(true);\r\n\r\n            //Lấy các id đã yêu cầu;\r\n            let requested = localStorage.getItem('requested') ? localStorage.getItem('requested').split(\";\") : [];\r\n\r\n            Database.ref(`request/${data.uid}/${requestData.id}`).set(requestData).then(() => {\r\n                alert(\"Gửi yêu cầu thành công! Bạn hãy bình tình đợi nhà cung cấp liên hệ sớm nhất nhé!\");\r\n\r\n                //Gửi thông báo đến nhà cung cấp\r\n                Database.ref(`users/${data.uid}`).once('value', snapshot => {\r\n                    let pushData = {\r\n                        to: snapshot.val().pushToken,\r\n                        data : {\r\n                            body: `${requestData.phone} gửi cần Oxy: ${requestData.information}`,\r\n                            title: `myO2 -  Có yêu cầu Oxy mới`\r\n                        },\r\n                        time_to_live: 600\r\n                    }\r\n\r\n                    console.log(pushData);\r\n\r\n                    Axios.post('https://fcm.googleapis.com/fcm/send', pushData, {headers: {\r\n                        \"Content-Type\" : 'application/json',\r\n                        \"Authorization\" : \"key=AAAA2LZykxM:APA91bFUrSHBQCrZalVjmO9eT4cpNJFE-9QB2_-s9NaneojtYe1UE3-k6esZcY0yIk-YAhKvTrbBPzn6naZ3LNKhdLJZxRkUIEI01EqvzDBUL9WmwhU2dw72X5JNqTmGIFvUyTNTZxZw\"\r\n                    }}).catch(err => console.log(err))\r\n                })\r\n\r\n                //Save về Local Storage\r\n                requested.push(data.uid);\r\n                localStorage.setItem('requested', requested.join(';'));\r\n                setLoading(true);\r\n            }).catch(e => {\r\n                alert(`Có lỗi xảy ra, hãy chọn phương án gọi ngay cho nhà cung cấp!`);\r\n                setLoading(false);\r\n            })\r\n        }\r\n    }\r\n\r\n    return {\r\n        data,\r\n        cities,\r\n        districts,\r\n        handleSendRequest,\r\n        setAddress,\r\n        setWard,\r\n        setName,\r\n        setInformation,\r\n        loading\r\n    }\r\n}","import React from 'react';\r\nimport \"./styles.scss\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport {MdPhone} from 'react-icons/md'\r\nimport {IoSend} from 'react-icons/io5';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport {Controller} from './controller';\r\nimport {TopHeaderBar} from '../../components/HeaderBar';\r\nimport { LoadingScreen } from '../../components/LoadingScreen';\r\n\r\nconst Information = (props) => {\r\n    const {data, districts, cities, handleSendRequest, loading, setInformation, setName, setAddress, setWard} = new Controller(props);\r\n\r\n    //Loading Page\r\n    if(!data) return <LoadingScreen/>\r\n\r\n    return (\r\n        <div className=\"view information-view\">\r\n            <TopHeaderBar title={data.name} goBack={'/'}/>\r\n            <div className=\"image\" style={{background: `url(${data.image}) no-repeat center center / cover`}}></div>\r\n            <div className=\"header\">\r\n                <div className=\"title\">\r\n                    <h1>{data.name}</h1>\r\n                    <div className={`status ${data.status ? 'green' : 'red'}`}>\r\n                        <span>{data.status ? 'Còn Oxy' : 'Đã hết Oxy'}</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"action-container\">\r\n                    <a href={`tel:${data.phone}`}>\r\n                        <Fab\r\n                          variant=\"extended\"\r\n                          size=\"medium\"\r\n                          color=\"primary\"\r\n                          aria-label=\"add\"\r\n                          className=\"action-btn\"\r\n                        >\r\n                          <MdPhone style={{marginRight: 8}}/>\r\n                          Gọi ngay\r\n                        </Fab>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n\r\n            <span className=\"address\">{data.address}, phường {data.ward}, {districts[data.district].title}, {cities[data.city].title}</span>\r\n            <hr/>\r\n            <p className=\"information\">{data.information}</p>\r\n            \r\n            <div className=\"form-container\">\r\n                <h2>Gửi yêu cầu Oxy</h2>\r\n                <a href={`tel:${data.phone}`}>\r\n                    <Button variant=\"contained\" color=\"primary\" size=\"large\" startIcon={<MdPhone/>}>Gọi ngay ({data.phone})</Button>\r\n                </a>\r\n                \r\n                <div className=\"split-line\">\r\n                    <span>Hoặc</span>\r\n                </div>\r\n\r\n                <div className=\"form\">\r\n                    <TextField id=\"outlined-basic\" onChange={(e) => setName(e.target.value)} required label=\"Họ & Tên\" variant=\"outlined\" />\r\n                    <TextField id=\"outlined-basic\" onChange={(e) => setWard(e.target.value)} required label=\"Tên phường\" variant=\"outlined\" />\r\n                    <TextField id=\"outlined-basic\" onChange={(e) => setAddress(e.target.value)} required label=\"Tên đường, số nhà\" variant=\"outlined\" />\r\n                    <TextField id=\"outlined-basic\" onChange={(e) => setInformation(e.target.value)} label=\"Tình trạng người bệnh\" variant=\"outlined\" />\r\n                    <Button disabled={loading} variant=\"contained\" color=\"primary\" endIcon={<IoSend/>} onClick={handleSendRequest}>Gửi yêu cầu</Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Information;","import { useEffect } from 'react';\r\nimport {useState} from 'react';\r\n\r\nexport function Controller(props) {\r\n    const [city, setCity] = useState(null);\r\n    const [district, setDistrict] = useState(null);\r\n    const [redirect, setRedirect] = useState(false);\r\n    const [phone, setPhone] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if(localStorage.getItem('city') && localStorage.getItem('district') && localStorage.getItem('phone')) setRedirect(true);\r\n    }, [])\r\n\r\n    const handleSubmit = () => {\r\n        console.log(city, district);\r\n        \r\n        if(!city || !district) {\r\n            alert(\"Vui lòng chọn đầy đủ thông tin!\");\r\n        }else{\r\n            localStorage.setItem('city', city-1);\r\n            localStorage.setItem('district', district-1);\r\n            localStorage.setItem('phone', phone);\r\n\r\n            window.location.reload();\r\n            \r\n            //Redirect to home page\r\n            setRedirect(true);\r\n        }\r\n    }\r\n\r\n    return {\r\n        setCity,\r\n        setDistrict,\r\n        handleSubmit,\r\n        redirect,\r\n        setPhone\r\n    }\r\n}","import React from 'react';\r\nimport { districts, cities, findWithAttr } from '../../Global/Variables';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport {Controller} from './controller';\r\nimport Button from '@material-ui/core/Button';\r\nimport {Redirect} from 'react-router-dom';\r\nimport \"./styles.scss\";\r\n\r\nconst Welcome = (props) => {\r\n    const {setCity, setDistrict, handleSubmit, redirect, setPhone} = new Controller(props);\r\n\r\n    if(redirect) return <Redirect to=\"/\"/>\r\n\r\n    return (\r\n        <div className=\"form-welcome\">\r\n            <h1>Chào mừng đến với myO2, hãy thêm thông tin của bạn nhé!</h1>\r\n            <TextField id=\"outlined-basic\" required label=\"Số điện thoại\" variant=\"outlined\" onChange={(e) => setPhone(e.target.value)}/>\r\n            <Autocomplete\r\n              id=\"combo-box-demo\"\r\n              options={cities}\r\n              getOptionLabel={(option) => option.title}\r\n              renderInput={(params) => <TextField {...params} required label=\"Thành phố\" variant=\"outlined\" \r\n              onSelect={(e) => setCity(findWithAttr(cities, 'title', e.target.value)+1)} />}\r\n            />\r\n            <Autocomplete\r\n              id=\"combo-box-demo\"\r\n              options={districts}\r\n              getOptionLabel={(option) => option.title}\r\n              renderInput={(params) => <TextField {...params} required label=\"Quận / huyện\" variant=\"outlined\" \r\n              onSelect={(e) => setDistrict(findWithAttr(districts, 'title', e.target.value)+1)}/>}\r\n            />\r\n            <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>Lưu</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Welcome;","import { useState, useEffect } from \"react\";\r\nimport { Database, snapToArray} from \"../../Global/Variables\";\r\n\r\nexport function Controller(props) {\r\n    const [data, setData] = useState(null);\r\n\r\n    useEffect(() => {\r\n        Database.ref(`request/${localStorage.getItem('uid')}`).on('value', snapshot => {\r\n            setData(snapToArray(snapshot));\r\n        })\r\n    }, [])\r\n\r\n    //Xác nhạn đã giao\r\n    const handleSubmit = (id) => {\r\n        Database.ref(`request/${localStorage.getItem('uid')}/${id}`).update({\r\n            accepted: true\r\n        });\r\n    }\r\n\r\n    return {\r\n        data,\r\n        handleSubmit\r\n    }\r\n}","import React from 'react';\r\nimport \"./styles.scss\";\r\nimport Button from '@material-ui/core/Button';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport {MdCall} from 'react-icons/md';\r\nimport {Controller} from './controller';\r\nimport {districts, cities} from '../../Global/Variables';\r\nimport { LoadingScreen } from '../../components/LoadingScreen';\r\n\r\nconst Request = (props) => {\r\n    const {data, handleSubmit} = new Controller(props);\r\n\r\n    if(!data) return <LoadingScreen/>\r\n\r\n    return(\r\n        <div className=\"view request-view\">\r\n            <h1>Các yêu cầu hỗ trợ hiện có</h1>\r\n            <div className=\"request-container\">\r\n                {data.map((item, i) => {\r\n                    if(!item.accepted) {\r\n                        return (\r\n                            <div className=\"request-item\" key={`request-item-${i}`}>\r\n                                <div className=\"information-container\">\r\n                                    <span className=\"title\">{item.name} - {item.phone}</span>\r\n                                    <span className=\"address\">{item.address}, phường {item.ward}, {districts[item.district].title}, {cities[item.city].title}</span>\r\n                                    <p className=\"information\">{item.information}</p>\r\n                                </div>\r\n                                <div className=\"action-container\">\r\n                                    <Button variant=\"contained\" color=\"primary\" onClick={() => handleSubmit(item.id)}>Xác nhận đã giao Oxy</Button>\r\n                                    <a href={`tel:0230123`}><Button color=\"primary\" startIcon={<MdCall/>}>Gọi</Button></a>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                })}\r\n            </div>\r\n\r\n            <h1>Các yêu cầu hỗ trợ đã xử lý</h1>\r\n            <div className=\"request-container\">\r\n                {data.map((item, i) => {\r\n                    if(item.accepted) {\r\n                        return (\r\n                            <div className=\"request-item accepted\" key={`request-item-${i}`}>\r\n                                <div className=\"information-container\">\r\n                                    <span className=\"title\">{item.name} - {item.phone}</span>\r\n                                    <span className=\"address\">{item.address}, phường {item.ward}, {districts[item.district].title}, {cities[item.city].title}</span>\r\n                                    <p className=\"information\">{item.information}</p>\r\n                                </div>\r\n                                <div className=\"action-container\">\r\n                                    <Button variant=\"contained\" disabled color=\"primary\" onClick={() => handleSubmit(item.id)}>Xác nhận đã giao Oxy</Button>\r\n                                    <a href={`tel:0230123`}><Button color=\"primary\" startIcon={<MdCall/>}>Gọi</Button></a>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Request;","import React from 'react';\r\n\r\nconst Info = (props) => {\r\n    return (\r\n        <div className=\"view\">\r\n            <h1 style={{color: 'rgb(0, 122, 255)', fontSize: 24, marginTop: 32}}>Thông tin dự án:</h1>\r\n            <span><b>Nhà phát triển: </b>Laven Studio</span><br/><br/>\r\n            <span><b>Website: </b><a href=\"https://lavenstudio.cf\" target=\"_blank\">https://lavenstudio.cf</a></span><br/><br/>\r\n            <span><b>Facebook: </b><a href=\"https://www.facebook.com/nhatsdevil.mc\" target=\"_blank\">https://www.facebook.com/nhatsdevil.mc</a></span><br/><br/>\r\n            <span><b>Phiển bản: </b>1.0.0</span><br/><br/>\r\n            <h2 style={{color: 'rgb(0, 122, 255)', fontSize: 24}}>Hãy ủng họ nhà phát triển nhé!</h2>\r\n            <span><b>Ngân hàng: </b>VP Bank ( CN Bến Thành )</span><br/><br/>\r\n            <span><b>Số tài khoản: </b>20782048</span><br/><br/>\r\n            <span><b>Tên người nhận: </b>TRAN QUANG NHAT</span><br/><br/><br/>\r\n            \r\n            <span><b>Hoặc qua Momo: </b>0938225747</span><br/><br/><br/><br/>\r\n            <span><b>Rất cảm ơn và trân quý sự ủng hộ của mọi người cho sản phẩn này!</b></span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Info;","import React, { Component, useEffect } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport {messaging, showNotification} from './Global/Variables';\n\n//COMPONENTS\nimport {HeaderBar} from './components/HeaderBar';\n\n//VIEWS\nimport Signup from './views/Signup';\nimport Login from './views/Login';\nimport Management from './views/Management';\nimport AddNew from './views/AddNew';\nimport Home from './views/Home';\nimport Information from './views/Information';\nimport Welcome from './views/Welcome';\nimport Request from './views/Request';\nimport Info from './views/Info';\n\nfunction HalfPrivateRoute ({component: Component, ...rest}) {\n  let authed = localStorage.getItem('district') && localStorage.getItem('city') && localStorage.getItem('phone') ? true : false;\n  return (\n    <Route\n      {...rest}\n      render={(props) => authed === true\n        ? <Component {...props} />\n        : <Redirect to={{pathname: '/welcome', state: {from: props.location}}} />}\n    />\n  )\n}\n\nfunction PrivateRoute ({component: Component, ...rest}) {\n  let authed = localStorage.getItem('district') && localStorage.getItem('city') && localStorage.getItem('phone') && localStorage.getItem('uid') ? true : false;\n  return (\n    <Route\n      {...rest}\n      render={(props) => authed === true\n        ? <Component {...props} />\n        : <Redirect to={{pathname: '/login', state: {from: props.location}}} />}\n    />\n  )\n}\n\nconst App = (props) => {\n  useEffect(() => {\n    //Get firebase cloud msg token\n    messaging.getToken().then(async function() {\n      const token = await messaging.getToken();\n      localStorage.setItem('pushToken', token);\n    }).catch(function(err) {\n      //alert(\"Unable to get permission to notify.\", err);\n    });\n\n    //Listen on received msg from Cloud\n    messaging.onMessage(res => {\n      console.log(res);\n      showNotification(res.data.title, res.data.body); //Show notifications\n    })\n  }, [])\n\n  return (\n    <div>\n      <HeaderBar/>\n      <Main/>\n    </div>\n  )\n}\n\nclass Main extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n      return (\n        <main>\n          <Switch>\n            <HalfPrivateRoute exact path='/' component={Home}/>\n            <Route exact path='/welcome' component={Welcome}/>\n            <Route exact path='/signup' component={Signup}/>\n            <Route exact path='/login' component={Login}/>\n            <PrivateRoute exact path='/management' component={Management}/>\n            <PrivateRoute exact path='/request' component={Request}/>\n            <PrivateRoute exact path='/add/:district' component={AddNew}/>\n            <PrivateRoute exact path='/edit/:district/:id' component={(props) => <AddNew isEdit={true} {...props}/>}/>\n            <HalfPrivateRoute exact path='/oxy/:district/:id' component={Information}/>\n            <Route exact path='/information' component={Info}/>\n          </Switch>\n        </main>\n      )\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\n\nimport \"./styles/lavenst.scss\";\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}